# Advanced Options Trading Calculator - Environment Configuration
# Copy this file to .env and update with your actual API keys and preferences

# === API KEYS ===
# Get your free API key from: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here

# Optional: Additional data providers (leave blank if not using)
FINNHUB_API_KEY=your_finnhub_api_key_here
TRADIER_TOKEN=your_tradier_token_here
TRADIER_BASE=https://sandbox.tradier.com

# === STRATEGY DECISION FRAMEWORK ===
DECISION_FRAMEWORK=original
ORIGINAL_STRATEGY_STRICT=true
SHOW_ENHANCED_METRICS=true
SHOW_RISK_WARNINGS=true

# === ORIGINAL STRATEGY THRESHOLDS ===
# These are the exact thresholds from the YouTube strategy
TS_SLOPE_THRESHOLD=-0.00406
IV_RV_RATIO_THRESHOLD=1.25
VOLUME_THRESHOLD=1500000

# === TRADE STRUCTURE SELECTION ===
DEFAULT_TRADE_STRUCTURE=calendar
ENABLE_STRADDLE_STRUCTURE=true
STRADDLE_RISK_WARNING=true
AUTO_STRUCTURE_THRESHOLD=50000

# === ENHANCED FEATURES CONTROL ===
ENABLE_QUALITY_SCORING=true
ENABLE_RISK_ANALYSIS=true
ENABLE_GREEKS_CALCULATION=true
ENABLE_PNL_SIMULATION=true

# === DISPLAY CONTROL OPTIONS ===
SHOW_THRESHOLD_DETAIL=true
SHOW_PRECISION_WARNINGS=true
SHOW_CONFIDENCE_BREAKDOWN=true
SHOW_TRADE_STRUCTURE=true
SHOW_TIMING_WINDOWS=true

# === POSITION SIZING & RISK MANAGEMENT ===
# Default account parameters (can be overridden via command line)
ACCOUNT_SIZE=10000.0
RISK_PER_TRADE=0.02
MARGIN_MULTIPLIER=2.0

# Risk Management Limits
MAX_POSITION_PCT=0.05
MAX_CONCENTRATION_PCT=0.20
MAX_DAILY_LOSS_PCT=0.02
MAX_PORTFOLIO_DELTA=0.10
MIN_BUYING_POWER_PCT=0.25

# === DATABASE CONFIGURATION ===
# Required for user authentication, portfolio tracking, and data persistence
# Using custom port 5430 to avoid conflicts with existing PostgreSQL
# For Docker services: use localhost:5430 (after running docker-compose.services.yml)
# For external database: update host and credentials accordingly
DATABASE_URL=postgresql://postgres:password@localhost:5430/options_trading
DB_HOST=localhost
DB_PORT=5430
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=options_trading
DB_MIN_CONNECTIONS=5
DB_MAX_CONNECTIONS=20
DB_CONNECTION_TIMEOUT=10

# === REDIS CONFIGURATION ===
# Required for caching and session management
# Using custom port 6479 to avoid conflicts with existing Redis
# For Docker services: use localhost:6479 (after running docker-compose.services.yml)
# For external Redis: update host and credentials accordingly
REDIS_URL=redis://localhost:6479/0
REDIS_HOST=localhost
REDIS_PORT=6479
REDIS_DB=0
REDIS_PASSWORD=
REDIS_TTL_DEFAULT=300
REDIS_TTL_PRICE=60

# === API SERVER CONFIGURATION ===
# Server configuration for FastAPI backend
API_HOST=0.0.0.0
API_PORT=8000
SECRET_KEY=your-super-secure-secret-key-change-this
JWT_SECRET_KEY=your-jwt-secret-key-change-this
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
